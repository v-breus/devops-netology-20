#### Задание 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и
виртуализации на основе ОС.

**Ответ:**

**Аппаратная виртуализация** обеспечивает полную изолированность виртуальных машин друг от друга. Также не требуется
устанавливать на хост-сервер какую-либо ОС (гипервизор сам выступает в этой роли). Плюсы - полная изоляция гостевых
систем и абсолютное их разнообразие, отсутствие ОС на хост-машине как единой "точки отказа". Минус - несколько более
высокие накладные расходы т.к. нужно эмулировать "железо".

**Паравиртуализация** уже требует наличия операционной системы на хост-машине. Как и в случае аппаратной виртуализации,
позволяет полностью изолировать виртуальные машины друг от друга и от хост-системы. Отличие от предыдущего способа
виртуализации в том, что паравиртуализация не эмулирует "железо", гипервизор только распределяет ресурсы хост-сервера.
Плюсы - не нужно эмулировать аппаратный слой для гостевых ОС, такая же полная их изоляция, как и в случае аппаратной 
виртуализации. Минусы - все же нужна операционная система на хост-сервере, нужна модификация ядра гостевой ОС или
дополнительные драйверы для работы без потери в производительности и корректным взаимодействием с гипервизором.

**Программная виртуализация** или по-другому контейнеризация обеспечивает только создание изолированных друг от друга
наборов процессов (программных окружений). Каждое из окружений использует то же ядро, что и хост-сервер. Об эмуляции
аппаратных ресурсов речи также не идет. Плюсы - наименьшие накладные расходы, более быстрое развертывание и более
легкое управление виртуальными машинами. Минусы - гостевые ОС ограничены ядром хост-сервера, относительно слабая 
защищенность хост-машин и необходимость более внимательно относиться к тому, сколько аппаратных ресурсов потребляет
каждая из "гостевых" ВМ.

#### Задание 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

**Ответ:**
<table>

<thead>

<tr>

<th>Условия использования</th>

<th>Организация серверов</th>

<th>Обоснование</th>

</tr>

</thead>

<tbody>

<tr>

<td>Высоконагруженная база данных, чувствительная к отказу</td>

<td>Полная аппаратная, либо паравиртуализация в кластере</td>

<td>Требуется абсолютная изолированность гостевых ОС друг от друга и отказоустойчивость</td>

</tr>

<tr>

<td>Различные web-приложения</td>

<td>Программная виртуализация</td>

<td>Нет особых требований ни к отказоустойчивости, ни к изоляции, ни к версиям ядра. Поэтому достаточно docker</td>

</tr>

<tr>

<td>Windows системы для использования бухгалтерским отделом</td>

<td>Паравиртуализация</td>

<td>Достаточно Hyper-V и каждому бухгалтеру выделить VM под сценарий "Браузер + 1С + Офисное ПО". Альтернатива - вообще без виртуализации, один физический сервер с дисками в зеркальном RAID (сохранность данных).</td>

</tr>

<tr>

<td>Системы, выполняющие высокопроизводительные расчеты на GPU</td>

<td>Физический сервер (GPU-ферма)</td>

<td>Изолированность процессов или резервирование данных не требуются. Требуется только максимальная вычислительная мощность без накладных расходов</td>

</tr>

</tbody>

</table>

#### Задание 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

**Ответ:**
<table>

<thead>

<tr>

<th>Сценарий</th>

<th>Решение для виртуализации</th>

<th>Обоснование</th>

</tr>

</thead>

<tbody>

<tr>

<td>100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий</td>

<td>VMWare VSphere</td>

<td>При необходимости позволяет разделить виртуальные машины по нескольким хост-серверам, хорошо относится к гетерогенности гостевых ОС, позволяет "бесшовно" балансировать нагрузку и мигрировать гостевые ОС между хост-серверами. Чуть менее удобный, но более дешевый вариант реализации - Proxmox.</td>

</tr>

<tr>

<td>Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин</td>

<td>Proxmox</td>

<td>Более удобно чем "чистый" Xen с точки зрения управления, бесплатен в отличие от VMWare</td>

</tr>

<tr>

<td>Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры</td>

<td>"Встроенный" в Windows Server Hyper-V</td>

<td>Решение от Microsoft, максимально приспособленное к виртуалзации их продуктов</td>

</tr>

<tr>

<td>Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux</td>

<td>OpenVZ либо Docker</td>

<td>Минимально достаточное решение. Так как это всего лишь тестирование, не требуется ни изоляция, ни отказоустойчивость, ни гетерогенность</td>

</tr>

</tbody>

</table>

#### Задание 3

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

**Ответ:**

Список проблем:
1. Более дорогое обслуживание (требуется более квалифицированная команда поддержки либо несколько команд)
2. Потеря производительности в случае, если конкретная "гостевая" ОС запущена на не оптимальном для нее гипервизоре
3. Возможно более высокие требования к сети со стороны гипервизоров, вплоть до необходимости физического выделения управляющего трафика в отдельную сеть

Для минимизации проблем следует:
1. Рассчитывать всегда "на перспективу" (всегда должно быть в наличии достаточное количество аппаратных ресурсов на хост-серверах, плюс 10-15% на случай непредвиденного роста нагрузки)
2. Размещать виртуальные машины сообразно их типу и/или выполняемой работе (не "смешивать" высоконагруженные серверы баз данных с "рабочими столами" офисных работников и "тестовые среды" разработчиков ПО в рамках одного физического хост-сервера)
3. "Выносить" особо требовательные к сетевым задержкам сервисы в отдельные VLAN или вообще выделять для них отдельную физическую сетевую инфраструктуру