#### Задание 1

Есть скрипт:

```source-shell
a=1
b=2
c=a+b
d=$a+$b
e=$(($a+$b))
```
Какие значения переменным c,d,e будут присвоены? Почему?

**Ответ:**
<table>

<thead>

<tr>

<th>Переменная</th>

<th>Значение</th>

<th>Обоснование</th>

</tr>

</thead>

<tbody>

<tr>

<td>`c`</td>

<td>a+b</td>

<td>В данном случае выражение "a+b" воспринимается как строка</td>

</tr>

<tr>

<td>`d`</td>

<td>1+2</td>

<td>Были выведены текстовые значения переменных. Действий не было т.к. переменные по умолчанию понимаются как текст</td>

</tr>

<tr>

<td>`e`</td>

<td>3</td>

<td>Переменные закрыли скобками, тем самым дали понять что надо произвести над ними арифметическое действие</td>

</tr>

</tbody>

</table>

#### Задание 2

На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность, записывая дату проверок до тех пор, пока сервис не станет доступным (после чего скрипт должен завершиться). В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:
```source-shell
while ((1==1)
do
	curl https://localhost:4757
	if (($? != 0))
	then
		date >> curl.log
	fi
done
```

**Исправленный скрипт**
```source-shell
# /bin/bash

while ((1==1))
do
	curl https://localhost:4757
	if (($? != 0)) # добавил пропущенную "закрывающую" скобку
	then
		date >> curl.log
	else # добавил условие "завершения" цикла
	    exit
	fi
	sleep 60 # добавил таймаут чтобы проверки стали реже и место не забивалось так быстро
done
```

#### Задание 3

Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.

**Скрипт**
```source-shell
# /bin/bash

hosts=(192.168.0.1 173.194.222.113 87.250.250.242) # Опрелеляем массив из проверяемых IP
for i in {1..5} # количество выполнений цикла
do
date >> result.log
    for host in ${hosts[@]} # Вложенный цикл. Перечисляем значения массива hosts
    do
        curlstat="$(curl -Is --connect-timeout 5 $host:80 | grep HTTP)" # Запрашиваем подключение к каждому из 
                                                                        # хостов
        echo "check" $host status=$curlstat >> result.log # Записываем результат в тот же лог
    done
    echo "" >> result.log # Пустая строка для повышения читабельности
done
```

#### Задание 4
Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается.

**Скрипт**
```source-shell
# /bin/bash

hosts=(173.194.222.113 87.250.250.24 192.168.0.1) # Опрелеляем массив из проверяемых IP
curlstat=0 # Задаем переменную-маркер

while (($curlstat == 0)) # Старт цикла
do
    for host in ${hosts[@]}
    do
        curl -Is --connect-timeout 5 $host:80  # Для хостов из массива hosts выполняем команду curl
        curlstat=$? # Устанавливаем для переменной curlstat в качестве значения результат последней команды
        if (($curlstat != 0))
        then
            date >> result.log
            echo "error - " $host status=$curlstat >> result.log # Если результат не 0 - запись в лог и стоп
        fi
    done
done
```